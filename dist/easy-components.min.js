!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EC=t():e.EC=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Dialog:()=>d,DialogOpener:()=>o,Dropdown:()=>n,Form:()=>l,Listbox:()=>a,Toggle:()=>i,instance:()=>r});const n=function(){function e(e){this.element=e,this.onDropdownClickDelegate=this.onDropdownClick.bind(this),this.onPageClickDelegate=this.onPageClick.bind(this),this.list=this.element.querySelector(".list"),this.element.addEventListener("click",this.onDropdownClickDelegate)}return e.prototype.open=function(){this.list.classList.add("opened"),document.addEventListener("click",this.onPageClickDelegate),this.element.removeEventListener("click",this.onDropdownClickDelegate);var e=new CustomEvent("onOpen",{bubbles:!0,cancelable:!0});this.element.dispatchEvent(e)},e.prototype.close=function(){this.list.classList.remove("opened"),this.element.addEventListener("click",this.onDropdownClickDelegate),document.removeEventListener("click",this.onPageClickDelegate);var e=new CustomEvent("onClose",{bubbles:!0,cancelable:!0});this.element.dispatchEvent(e)},e.prototype.onDropdownClick=function(e){e.stopPropagation(),this.open()},e.prototype.onPageClick=function(e){var t=e.target;t===this.element||this.element.contains(t)||this.close()},Object.defineProperty(e.prototype,"items",{get:function(){return this.list.querySelectorAll(".list-item")},enumerable:!1,configurable:!0}),e}(),i=function(){function e(e){this.element=e,this.updateHandleDelegate=this.updateHandle.bind(this),this.init()}return e.prototype.toggle=function(){this.element.classList.toggle("active");var e=!Boolean(this.element.dataset.value);this.element.dataset.value=e.toString();var t=new CustomEvent("onToggle",{detail:{value:e},bubbles:!0,cancelable:!0});return this.element.dispatchEvent(t),e},e.prototype.init=function(){var e=this;this.track=document.createElement("div"),this.track.classList.add("track"),this.handle=document.createElement("div"),this.handle.classList.add("handle"),this.track.appendChild(this.handle),this.element.appendChild(this.track),this.updateHandle(),this.handleResizeObserver=new ResizeObserver(this.updateHandleDelegate),this.handleResizeObserver.observe(this.element),this.element.addEventListener("click",(function(t){return e.toggle()}))},e.prototype.updateHandle=function(){this.handle.style.width=this.handle.style.height=this.track.offsetHeight+"px"},e}(),o=function(){function e(e){this.element=e,this.openDialogDelegate=this.openDialog.bind(this),this.init()}return Object.defineProperty(e.prototype,"targetName",{get:function(){return this.element.dataset.target},set:function(e){this.element.dataset.target=e},enumerable:!1,configurable:!0}),e.prototype.openDialog=function(){if(this.targetName){var e=r.dialogPool.findDialogByName(this.targetName),t=new CustomEvent("onOpenRequest",{bubbles:!0,cancelable:!0,detail:{target:e}});this.element.dispatchEvent(t),r.dialogPool.openDialog(e);var n=new CustomEvent("onOpen",{bubbles:!0,cancelable:!0,detail:{target:e}});this.element.dispatchEvent(n)}},e.prototype.init=function(){this.element.dataset.target&&this.element.addEventListener("click",this.openDialogDelegate)},e}(),s=function(){function e(){var e=this;this.loseFocusDelegate=this.loseFocus.bind(this),this.dialogs=[],"complete"===document.readyState?this.generateElement():document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&e.generateElement()}))}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),e.prototype.generateElement=function(){this._element=document.createElement("div"),this.element.classList.add("easy-component","ec-dialog-pool"),document.body.appendChild(this.element)},Object.defineProperty(e.prototype,"activeDialog",{get:function(){return this._activeDialog},enumerable:!1,configurable:!0}),e.prototype.closeCurrentDialog=function(){if(this._activeDialog){this._activeDialog.isOpened=!1,this._activeDialog=null,document.body.classList.remove("ec-no-scroll"),document.removeEventListener("mouseup",this.loseFocusDelegate);var e=new CustomEvent("onDialogClose",{bubbles:!0,cancelable:!0,detail:{dialog:this._activeDialog}});this.element.dispatchEvent(e)}},e.prototype.openDialog=function(e){this._activeDialog&&this.closeCurrentDialog(),e.isOpened=!0,this._activeDialog=e,e.isBlocking&&document.body.classList.add("ec-no-scroll"),e.canLoseFocus&&document.addEventListener("mouseup",this.loseFocusDelegate);var t=new CustomEvent("onDialogOpen",{bubbles:!0,cancelable:!0,detail:{dialog:this._activeDialog}});this.element.dispatchEvent(t)},e.prototype.closeDialog=function(e){e===this._activeDialog&&this.closeCurrentDialog()},e.prototype.findDialogByName=function(e){for(var t=0,n=this.dialogs;t<n.length;t++){var i=n[t];if(i.name===e)return i}return null},e.prototype.addDialog=function(e){this.dialogs.push(e),this.element.appendChild(e.element.parentElement);var t=new CustomEvent("onNewDialog",{bubbles:!0,cancelable:!0,detail:{dialog:e}});this.element.dispatchEvent(t)},e.prototype.loseFocus=function(e){e.stopPropagation();var t=e.target;t===this._activeDialog.element||this._activeDialog.element.contains(t)||(this.closeCurrentDialog(),document.removeEventListener("mouseup",this.loseFocusDelegate))},e}(),l=function(){function e(e){this.element=e,this.onSubmitDelegate=this.onSubmit.bind(this),this.element.addEventListener("submit",this.onSubmitDelegate)}return e.prototype.submit=function(){var e=new FormData(this.element),t=new CustomEvent("onSubmit",{bubbles:!0,cancelable:!0,detail:{data:e}});if(this.element.dispatchEvent(t),!this.element.requestSubmit)return this.onSubmit(),void(this.element.reportValidity()&&this.element.submit());this.element.requestSubmit()},e.prototype.regenerateInputs=function(){var e=this;this.element.querySelectorAll("input.ec-data-helper").forEach((function(e){return e.remove()})),this.element.querySelectorAll(".easy-component").forEach((function(t){if(t.dataset.name){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t.dataset.name),n.setAttribute("value",t.dataset.value||""),e.element.appendChild(n)}}))},e.prototype.onSubmit=function(){this.regenerateInputs()},e}(),a=function(){function e(e){this.element=e,this.onPageClickDelegate=this.onPageClick.bind(this),this.onListboxClickDelegate=this.onListboxClick.bind(this),this.init()}return Object.defineProperty(e.prototype,"value",{get:function(){return this.element.dataset.value},set:function(e){this.element.dataset.value=e},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;this.selectDocElement=this.element.querySelector(".select"),this.selectedDocElement=this.selectDocElement.querySelector(".selected"),this.arrowDocElement=document.createElement("span"),this.arrowDocElement.classList.add("arrow","icon-chevron-down"),this.selectDocElement.appendChild(this.arrowDocElement),this.listDocElement=this.element.querySelector(".list"),this.items=this.listDocElement.querySelectorAll(".list-item"),this.selected=null,this.element.dataset.value||(this.selectedDocElement.innerText=this.selectedDocElement.dataset.placeholder||"",this.selectedDocElement.classList.add("placeholder")),this.element.addEventListener("click",this.onListboxClickDelegate),this.items.forEach((function(t){t.innerText=t.dataset.label,t.addEventListener("click",(function(){return e.selectItem(t)}))}))},e.prototype.selectItem=function(e){this.element.dataset.value=e.dataset.value||"",this.selectedDocElement.innerText=e.dataset.label,this.selected&&this.selected.classList.remove("selected"),this.selected=e,this.selectedDocElement.classList.remove("placeholder"),this.selectedDocElement.classList.add("selected");var t=new CustomEvent("onSelectItem",{bubbles:!0,cancelable:!0,detail:{item:e}});this.element.dispatchEvent(t)},e.prototype.close=function(){this.listDocElement.classList.remove("opened"),this.arrowDocElement.classList.replace("icon-chevron-up","icon-chevron-down"),this.element.addEventListener("click",this.onListboxClickDelegate),document.removeEventListener("click",this.onPageClickDelegate);var e=new CustomEvent("onClose",{bubbles:!0,cancelable:!0});this.element.dispatchEvent(e)},e.prototype.open=function(){this.listDocElement.classList.add("opened"),this.arrowDocElement.classList.replace("icon-chevron-down","icon-chevron-up"),document.addEventListener("click",this.onPageClickDelegate),this.element.removeEventListener("click",this.onListboxClickDelegate);var e=new CustomEvent("onOpen",{bubbles:!0,cancelable:!0});this.element.dispatchEvent(e)},e.prototype.onPageClick=function(e){e.stopPropagation(),this.close()},e.prototype.onListboxClick=function(e){e.stopPropagation(),this.open()},e}();var c;!function(e){function t(){document.querySelectorAll(".easy-component.ec-dropdown").forEach((function(t){e.dropdowns=[],e.dropdowns.push(new n(t))})),document.querySelectorAll(".easy-component.ec-toggle").forEach((function(t){e.toggles=[],e.toggles.push(new i(t))})),document.querySelectorAll(".easy-component.ec-dialog").forEach((function(e){new d(e)})),document.querySelectorAll(".easy-component.ec-dialog-opener").forEach((function(t){e.dialogOpeners=[],e.dialogOpeners.push(new o(t))})),document.querySelectorAll(".easy-component.ec-listbox").forEach((function(t){e.listboxs=[],e.listboxs.push(new a(t))})),document.querySelectorAll("form.easy-component.ec-form").forEach((function(t){e.forms=[],e.forms.push(new l(t))}))}e.dialogPool=new s,e.init=t,window.addEventListener("load",(function(){return t()}))}(c||(c={}));const r=c,d=function(){function e(e){this.element=e,this.closeDelegate=this.close.bind(this),this.init()}return Object.defineProperty(e.prototype,"name",{get:function(){return this.element.dataset.name||""},set:function(e){this.element.dataset.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpened",{get:function(){return this.element.classList.contains("opened")},set:function(e){e?this.element.classList.add("opened"):this.element.classList.remove("opened")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullwidth",{get:function(){return"true"===this.element.dataset.fullwidth||""===this.element.dataset.fullwidth},set:function(e){this.element.dataset.fullwidth=e.toString(),e?this.element.classList.add("fullwidth"):this.element.classList.remove("fullwidth")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isBlocking",{get:function(){return"true"===this.element.dataset.blocking||""===this.element.dataset.blocking},set:function(e){this.element.dataset.blocking=e.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canLoseFocus",{get:function(){return"true"===this.element.dataset.losefocus||""===this.element.dataset.losefocus},set:function(e){this.element.dataset.losefocus=e.toString()},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this,t=document.createElement("div");t.classList.add("easy-component","ec-dialog-wrapper"),t.appendChild(this.element),r.dialogPool.addDialog(this),this.element.querySelectorAll(".close-button").forEach((function(t){return t.addEventListener("click",e.closeDelegate)}))},e.prototype.open=function(){r.dialogPool.openDialog(this);var e=new CustomEvent("onOpen",{bubbles:!0,cancelable:!0});this.element.dispatchEvent(e)},e.prototype.close=function(){r.dialogPool.closeDialog(this);var e=new CustomEvent("onClose",{bubbles:!0,cancelable:!0});this.element.dispatchEvent(e)},e}();return t})()}));